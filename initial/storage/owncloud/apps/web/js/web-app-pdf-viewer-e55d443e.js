define(["./chunks/vendor-569e5121","./chunks/useAppDefaults-23e4907b","./chunks/cache-40bfe919","./chunks/useRoute-1812bd9a","./chunks/resources-a6033be8"],(function(e,n,t,i,r){"use strict";var a={cs:{},de:{"Loading PDF document":"PDF-Dokument wird geladen",msg:"Nachricht","PDF Viewer":"PDF Vorschau"},es:{msg:"msg"},fr:{msg:"msg"},gl:{msg:"msx"},it:{"Loading PDF document":"Caricamento documento PDF","PDF Viewer":"Visualizzatore PDF"}};const o={name:"ErrorScreen"};var s=function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"oc-position-center oc-text-center"},[n("oc-icon",{attrs:{size:"xxlarge",name:"error-warning","fill-type":"line"}})],1)};s._withStripped=!0;const d=e.normalizeComponent({render:s,staticRenderFns:[]},undefined,o,undefined,false,undefined,!1,void 0,void 0,void 0);const c={name:"LoadingScreen"};var l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"oc-position-center oc-text-center"},[t("oc-spinner",{attrs:{size:"xlarge"}}),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"oc-invisible"},[e._v("Loading PDF document")])],1)};l._withStripped=!0;const u={name:"PDFViewer",components:{ErrorScreen:d,LoadingScreen:e.normalizeComponent({render:l,staticRenderFns:[]},undefined,c,undefined,false,undefined,!1,void 0,void 0,void 0)},setup:()=>({...n.useAppDefaults({applicationName:"pdf-viewer"})}),data:()=>({loading:!0,loadingError:!1,filePath:"",blobUrl:""}),computed:{...e.mapGetters(["getToken"])},created(){this.loadPdf(this.currentFileContext)},unmounted(){this.unloadPdf()},methods:{async loadPdf(e){try{this.loading=!0;const n=await this.getFileContents(e.path,{responseType:"blob"});this.blobUrl=URL.createObjectURL(n.body)}catch(e){this.loadingError=!0,console.error("Error fetching pdf",e)}finally{this.loading=!1}},unloadPdf(){URL.revokeObjectURL(this.blobUrl)}}};var p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("main",[e.loading?t("loading-screen"):e.loadingError?t("error-screen"):t("object",{staticClass:"pdf-viewer oc-width-1-1 oc-height-1-1",attrs:{data:e.blobUrl,type:"application/pdf"}})],1)};p._withStripped=!0;return{appInfo:{name:"PDF Viewer",id:"pdf-viewer",icon:"resource-type-pdf",iconFillType:"fill",extensions:[{extension:"pdf",routeName:"pdf-viewer",canBeDefault:!0}]},routes:[{path:"/:filePath*",component:e.normalizeComponent({render:p,staticRenderFns:[]},undefined,u,"data-v-c8589a58",false,undefined,!1,void 0,void 0,void 0),name:"pdf-viewer",meta:{auth:!1,title:"PDF Viewer",patchCleanPath:!0}}],translations:a}}));
